<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../static/admin_main/css/admin_main.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c&display=swap" rel="stylesheet">
    <title>MealHub - Меню админа</title>
</head>
<body>
    <div class="menu_page">

        <div class="lefter">
            <div class="admin_logo_container">
                <div class="admin_logo">Meal Hub Admin</div>
                <div class="admin_logo_sub">Контроль питания учеников</div>
            </div>
            <div class="admin_divider"></div>
            <div class="admin_nav">
                <div class="admin_nav_slider"></div>
                <button class="admin_nav_button" data-view="admin_main"><img src="resources/home.svg" alt="">Главная</button>
                <button class="admin_nav_button" data-view="admin_stats"><img src="resources/leaderboard.svg" alt="">Статистика</button>
                <button class="admin_nav_button" data-view="admin_menu"><img class="admin_lefter_rest" src="resources/restaurant.svg" alt="">Меню</button>
                <button class="admin_nav_button" data-view="admin_orders"><img src="resources/note_add.svg" alt="">Заказы</button>
                <button class="admin_nav_button" data-view="reports"><img src="resources/assignment.svg" alt="">Отчёты</button>
            </div>

        </div>
        

        <div class="menu_app_view menu_app_view--active" data-view="admin_main">
            <header class="admin_main_header">
                <div class="admin_main_header_left">Главная</div>
                <div class="admin_main_header_right">
                    <div class="admin_notify_wrap">
                        <button class="admin_notify_button" type="button" aria-label="Уведомления">
                            <img src="/resources/notifications.svg" alt="">
                        </button>
                        <div class="admin_notify_overlay" aria-hidden="true">
                            <div class="admin_notify_title">Уведомления</div>
                            <div class="admin_notify_item">Нет новых уведомлений</div>
                        </div>
                    </div>
                    <div class="admin_user_meta">
                        <div class="admin_user_name">Имя Фамилия</div>
                        <div class="admin_user_role">Должность</div>
                    </div>
                    <div class="admin_user_avatar" aria-hidden="true"></div>
                </div>
            </header>

            <section class="admin_stats_panel">
                <div class="admin_stats_grid">
                    <article class="admin_stat_card">
                        <div class="admin_stat_label">Оплаты сегодня</div>
                        <div class="admin_stat_value">{{ summ }}₽</div>
                    </article>
                    <article class="admin_stat_card">
                        <div class="admin_stat_label">Посещения</div>
                        <div class="admin_stat_value">{{ sum_comes }}</div>
                    </article>
                    <article class="admin_stat_card">
                        <div class="admin_stat_label">Заявки на закупку</div>
                        <div class="admin_stat_value">{{buyorders_count}}</div>
                    </article>
                    <article class="admin_stat_card">
                        <div class="admin_stat_label">Низкие остатки</div>
                        <div class="admin_stat_value">5 позиций</div>
                    </article>
                    <article class="admin_stat_card">
                        <div class="admin_stat_label">Приёмов пищи</div>
                        <div class="admin_stat_value">{{ menu }}</div>
                    </article>
                </div>
            </section>
            <script>
                const date = [
                {% for item in data %}
                "{{ item|safe }}"{% if not forloop.last %},{% endif %}
                {% endfor %}
                ];
            </script>
            <section class="main_main_panel">
                <div class="main_main_graphs_orders_panel">
                    <section class="main_graphs_panel">
                        <div class="graph_holder">
                            <p>Динамика оплат, руб.</p>
                            <div class="graph_canvas">
                                <canvas id="paymentsDynamics"></canvas>
                            </div>
                        </div>
                        <div class="graph_holder">
                            <p>Динамика посещаемости, чел.</p>
                            <div class="graph_canvas">
                                <canvas id="customersTraffic"></canvas>
                            </div>
                        </div>
                    </section>
                    <section class="main_orders_panel">
                        <p>Новые заявки на закупку</p>
                        <div class="orders_bg">
                            <table class="orders_table">
                                <thead>
                                    <tr>
                                        <th>№</th>
                                        <th>Дата</th>
                                        <th>Создатель</th>
                                        <th>Товары</th>
                                        <th>Сумма</th>
                                        <th>Действие</th>
                                    </tr>
                                </thead>

                                <tbody>
                                    {% for item in buyorders %}
                                    <tr data-order-id="{{ item.id }}">
                                        <td>{{ item.id }}</td>
                                        <td>{{ item.date }}</td>
                                        <td>{{ item.user_id }}</td>
                                        <td>{{ item.items }}</td>
                                        <td>{{ item.summ }}</td>
                                        <td><button class="orders_action" type="button">Перейти к заявке</button></td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </section>
                </div>
                <div class="main_main_notifications_panel">
                    {% for item in notifications %}
                    <div class="notif_element">
                        <p>{{ item.text }}</p>
                    </div>
                    {% endfor %}
                </div>
            </section>

        </div>

        <div class="menu_app_view" data-view="admin_stats">
            <header class="admin_main_header">
                <div class="admin_main_header_left">Главная</div>
                <div class="admin_main_header_right">
                    <div class="admin_notify_wrap">
                        <button class="admin_notify_button" type="button" aria-label="Уведомления">
                            <img src="/resources/notifications.svg" alt="">
                        </button>
                        <div class="admin_notify_overlay" aria-hidden="true">
                            <div class="admin_notify_title">Уведомления</div>
                            <div class="admin_notify_item">Нет новых уведомлений</div>
                        </div>
                    </div>
                    <div class="admin_user_meta">
                        <div class="admin_user_name">Имя Фамилия</div>
                        <div class="admin_user_role">Должность</div>
                    </div>
                    <div class="admin_user_avatar" aria-hidden="true"></div>
                </div>
            </header>

            <section class="admin_stats_panel">
                <div class="admin_stats_grid">
                    <article class="admin_stat_card">
                        <div class="admin_stat_label">Оплаты сегодня</div>
                        <div class="admin_stat_value">{{ summ }}₽</div>
                    </article>
                    <article class="admin_stat_card">
                        <div class="admin_stat_label">Посещения</div>
                        <div class="admin_stat_value">384 ученика</div>
                    </article>
                    <article class="admin_stat_card">
                        <div class="admin_stat_label">Заявки на закупку</div>
                        <div class="admin_stat_value">5 позиций</div>
                    </article>
                    <article class="admin_stat_card">
                        <div class="admin_stat_label">Низкие остатки</div>
                        <div class="admin_stat_value">5 позиций</div>
                    </article>
                    <article class="admin_stat_card">
                        <div class="admin_stat_label">Приёмов пищи</div>
                        <div class="admin_stat_value">4 позиции</div>
                    </article>
                </div>
            </section>

            <section class="admin_stats_main">
                <div class="stats_graph_holder">
                    <div class="stats_graph_subholder">
                        <div class="stats_graph_header">
                            <p>Динамика оплат, руб.</p>
                            <div class="stats_week_switch" aria-label="Переключение недели">
                                <button class="stats_week_btn" type="button" aria-label="Предыдущая неделя">
                                    <img src="resources/left_arrow_stats.svg" alt="">
                                </button>
                                <span class="stats_week_label">26.01 - 01.02</span>
                                <button class="stats_week_btn stats_week_btn--next" type="button" aria-label="Следующая неделя">
                                    <img src="resources/left_arrow_stats.svg" alt="">
                                </button>
                            </div>
                        </div>
                        <div class="graph_canvas">
                            <canvas id="stats_paymentDynamics"></canvas>
                        </div>
                    </div>
                    <div class="stats_graph_subholder">
                        <div class="stats_graph_header">
                            <p>Динамика посещаемости, чел.</p>
                            <div class="stats_week_switch" aria-label="Переключение недели">
                                <button class="stats_week_btn" type="button" aria-label="Предыдущая неделя">
                                    <img src="resources/left_arrow_stats.svg" alt="">
                                </button>
                                <span class="stats_week_label">26.01 - 01.02</span>
                                <button class="stats_week_btn stats_week_btn--next" type="button" aria-label="Следующая неделя">
                                    <img src="resources/left_arrow_stats.svg" alt="">
                                </button>
                            </div>
                        </div>
                        <div class="graph_canvas">
                            <canvas id="stats_customersTraffic"></canvas>
                        </div>
                    </div>
                </div>
                <div class="reviews_holder">
                    <div class="reviews_header">
                        <div class="reviews_title">Отзывы</div>
                        <div class="stats_week_switch" aria-label="Переключение недели">
                            <button class="stats_week_btn" type="button" aria-label="Предыдущая неделя">
                                <img src="resources/left_arrow_stats.svg" alt="">
                            </button>
                            <span class="stats_week_label">26.01 - 01.02</span>
                            <button class="stats_week_btn stats_week_btn--next" type="button" aria-label="Следующая неделя">
                                <img src="resources/left_arrow_stats.svg" alt="">
                            </button>
                        </div>
                    </div>
                    <div class="reviews_list">
                        <article class="review_card">
                            <div class="review_meta">
                                <div class="review_meta_text">
                                    <div class="review_date">27.01.26</div>
                                    <div class="review_target">К: Каша рисовая</div>
                                </div>
                                <div class="review_stars" aria-label="Рейтинг 5 из 5">
                                    <img src="resources/Star 1.svg" alt="">
                                    <img src="resources/Star 1.svg" alt="">
                                    <img src="resources/Star 1.svg" alt="">
                                    <img src="resources/Star 1.svg" alt="">
                                    <img src="resources/Star 1.svg" alt="">
                                </div>
                            </div>
                            <div class="review_text">Очень вкусная и нежная каша, порция оптимальная. Спасибо!</div>
                        </article>
                        <article class="review_card">
                            <div class="review_meta">
                                <div class="review_meta_text">
                                    <div class="review_date">26.01.26</div>
                                    <div class="review_target">К: Суп куриный</div>
                                </div>
                                <div class="review_stars" aria-label="Рейтинг 4 из 5">
                                    <img src="resources/Star 1.svg" alt="">
                                    <img src="resources/Star 1.svg" alt="">
                                    <img src="resources/Star 1.svg" alt="">
                                    <img src="resources/Star 1.svg" alt="">
                                    <img src="resources/Star 1.svg" alt="">
                                </div>
                            </div>
                            <div class="review_text">Тёплый и насыщенный вкус. Хотелось бы чуть меньше соли.</div>
                        </article>
                        <article class="review_card">
                            <div class="review_meta">
                                <div class="review_meta_text">
                                    <div class="review_date">25.01.26</div>
                                    <div class="review_target">К: Творожная запеканка</div>
                                </div>
                                <div class="review_stars" aria-label="Рейтинг 5 из 5">
                                    <img src="resources/Star 1.svg" alt="">
                                    <img src="resources/Star 1.svg" alt="">
                                    <img src="resources/Star 1.svg" alt="">
                                    <img src="resources/Star 1.svg" alt="">
                                    <img src="resources/Star 1.svg" alt="">
                                </div>
                            </div>
                            <div class="review_text">Запеканка мягкая, не сухая, понравилась детям.</div>
                        </article>
                        <article class="review_card">
                            <div class="review_meta">
                                <div class="review_meta_text">
                                    <div class="review_date">24.01.26</div>
                                    <div class="review_target">К: Компот яблочный</div>
                                </div>
                                <div class="review_stars" aria-label="Рейтинг 3 из 5">
                                    <img src="resources/Star 1.svg" alt="">
                                    <img src="resources/Star 1.svg" alt="">
                                    <img src="resources/Star 1.svg" alt="">
                                    <img src="resources/Star 1.svg" alt="">
                                    <img src="resources/Star 1.svg" alt="">
                                </div>
                            </div>
                            <div class="review_text">Вкус приятный, но хотелось бы чуть слаще.</div>
                        </article>
                    </div>
                </div>
            </section>
        </div>

        <div class="menu_app_view" data-view="admin_menu">
            <header class="admin_main_header">
                <div class="admin_main_header_left">Главная</div>
                <div class="admin_main_header_right">
                    <div class="admin_notify_wrap">
                        <button class="admin_notify_button" type="button" aria-label="Уведомления">
                            <img src="/resources/notifications.svg" alt="">
                        </button>
                        <div class="admin_notify_overlay" aria-hidden="true">
                            <div class="admin_notify_title">Уведомления</div>
                            <div class="admin_notify_item">Нет новых уведомлений</div>
                        </div>
                    </div>
                    <div class="admin_user_meta">
                        <div class="admin_user_name">Имя Фамилия</div>
                        <div class="admin_user_role">Должность</div>
                    </div>
                    <div class="admin_user_avatar" aria-hidden="true"></div>
                </div>
            </header>

            <section class="admin_stats_panel admin_menu_panel">
                <div class="admin_menu_filters">
                    <div class="admin_menu_left">
                        <div class="admin_menu_date">Понедельник, 19.01.2026</div>
                        <div class="admin_menu_days" role="group" aria-label="Дни недели">
                            <button class="admin_menu_day" type="button">Пн</button>
                            <button class="admin_menu_day" type="button">Вт</button>
                            <button class="admin_menu_day" type="button">Ср</button>
                            <button class="admin_menu_day" type="button">Чт</button>
                            <button class="admin_menu_day" type="button">Пт</button>
                        </div>
                    </div>
                    <div class="admin_menu_class_select">
                        <button class="admin_menu_class_btn" type="button" aria-haspopup="listbox" aria-expanded="false">
                            <span class="admin_menu_class_label">11-е классы</span>
                            <img class="admin_menu_class_arrow" src="resources/left_arrow_stats.svg" alt="">
                        </button>
                        <div class="admin_menu_class_menu" role="listbox" aria-label="Классы">
                            <button class="admin_menu_class_item" type="button" role="option" data-value="11">11-е классы</button>
                            <button class="admin_menu_class_item" type="button" role="option" data-value="10">10-е классы</button>
                            <button class="admin_menu_class_item" type="button" role="option" data-value="9">9-е классы</button>
                            <button class="admin_menu_class_item" type="button" role="option" data-value="8">8-е классы</button>
                            <button class="admin_menu_class_item" type="button" role="option" data-value="7">7-е классы</button>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <div class="menu_app_view" data-view="admin_orders">
            ADMIN ORDERS
        </div>

        <div class="menu_app_view" data-view="reports">
            REPORTS
        </div>
        </div>
    <script src="../../static/admin_main/js/admin_slider.js"></script>
    <script src="../../static/admin_main/js/paymentsDynamics.js"></script>
    <script src="../../static/admin_main/js/customersTraffic.js"></script>
    <script src="../../static/admin_main/js/statsPaymentsDynamics.js"></script>
    <script src="../../static/admin_main/js/statsCustomersTraffic.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</body>
</html>